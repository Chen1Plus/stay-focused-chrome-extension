(()=>{var e=[];chrome.action.onClicked.addListener((e=>{chrome.runtime.openOptionsPage()})),chrome.storage.sync.get(null,(l=>{const o=["www.facebook.com","www.instagram.com","www.messenger.com","twitter.com","www.i-gamer.net","minesweeper.online","slither.io"];let t=[],s=[];null==l.blacklist?chrome.storage.sync.set({blacklist:[]}):t=l.blacklist,null==l.whitelist?chrome.storage.sync.set({whitelist:[]}):s=l.whitelist,console.log("this is default blacklist:"),console.log(o),console.log("this is blacklist:"),console.log(t),console.log("this is whitelist:"),console.log(s);let i=o.concat(t.filter((e=>-1==o.indexOf(e))));e=i.filter((e=>-1==s.indexOf(e))),console.log("these are forbidden urls:"),console.log(e),chrome.tabs.onUpdated.addListener(((l,o,t)=>{let s=t.url,i=0,n=0,c=0;for(let e=0;e<s.length;e++)if("/"==s[e])if(i++,2==i)n=e+1;else if(3==i){c=e;break}s=s.slice(n,c);for(let o=0;o<e.length;o++)if(s==e[o]){chrome.tabs.update(l,{url:"warn/warn.html"});break}}))}))})();