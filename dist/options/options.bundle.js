(()=>{"use strict";function e(e,t){document.getElementById(e).style.display=t}function t(t,l){let n="",d="",i="";if("black"==t?(n="blacklist_showed",d="b",i="delete_b"):"white"==t&&(n="whitelist_showed",i="delete_w",d="w"),0==l.length)e(i,"none"),o=n,document.getElementById(o).innerHTML='\n    <div class="full-width text-center py-3">\n    The list is empty. <br>\n    Type a URL and press Enter.\n    </div>';else{e(i,""),function(e){document.getElementById(e).innerHTML=""}(n);for(let e=0,t=l.length;e<t;e++)c=n,s=d+e,a=l[e],document.getElementById(c).insertAdjacentHTML("afterbegin",`<div>\n      <label class="full-width list-item-check px-3 py-1">\n        <input type="checkbox" id="${s}" class="checkbox-1 vertical-mid" value="${a}" />\n        <span class="list_text px-2 vertical-mid">${a}</span>\n      </label>\n    </div>`)}var c,s,a,o}function l(e,t){let l="";"black"==e?l="b":"white"==e&&(l="w");for(let e=t.length-1;e>-1;e--)document.getElementById(l+e).checked&&t.splice(e,1)}function n(e,t){for(let l=0,n=t.length;l<n;l++)if(e==t[l])return 1;return 0}var d=[],i=[];chrome.storage.sync.get(null,(e=>{d=e.blacklist,i=e.whitelist,console.log(d),console.log(i),t("black",d),t("white",i),document.getElementById("delete_from_blacklist").addEventListener("click",(()=>{l("black",d),t("black",d)})),document.getElementById("delete_from_whitelist").addEventListener("click",(()=>{l("white",i),t("white",i)})),document.getElementById("add_url_b").addEventListener("keyup",(e=>{if("Enter"===e.key){let e=document.getElementById("add_url_b").value;n(e,d)?alert("此網站已在名單中！！"):(d.push(e),t("black",d))}})),document.getElementById("add_url_w").addEventListener("keyup",(e=>{if("Enter"===e.key){let e=document.getElementById("add_url_w").value;n(e,i)?alert("此網站已在名單中！！"):(i.push(e),t("white",i))}})),document.getElementById("update_list").addEventListener("click",(()=>{let e=new Object;e.blacklist=d,e.whitelist=i,console.log(e),chrome.storage.sync.set(e),chrome.runtime.reload()}))}))})();