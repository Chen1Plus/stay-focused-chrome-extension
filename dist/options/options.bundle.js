(()=>{"use strict";function e(e,t,l){document.getElementById(e).insertAdjacentHTML("afterbegin",`<div>\n      <label class="full-width list-item-check px-3 py-1">\n        <input type="checkbox" id="${t}" class="checkbox-1 vertical-mid" value="${l}" />\n        <span class="list_text px-2 vertical-mid">${l}</span>\n      </label>\n    </div>`)}function t(e,t){document.getElementById(e).style.display=t}function l(l,n){let i="",d="",c="";if("black"==l?(i="blacklist_showed",d="b",c="delete_b"):"white"==l&&(i="whitelist_showed",c="delete_w",d="w"),0==n.length)t(c,"none"),s=i,document.getElementById(s).innerHTML='\n    <div class="full-width text-center py-3">\n    The list is empty. <br>\n    Type a URL and press Enter.\n    </div>';else{t(c,""),function(e){document.getElementById(e).innerHTML=""}(i);for(let t=0,l=n.length;t<l;t++)e(i,d+t,n[t])}var s}function n(e,t){let l="";"black"==e?l="b":"white"==e&&(l="w");for(let e=t.length-1;e>-1;e--)document.getElementById(l+e).checked&&t.splice(e,1)}function i(e,t){for(let l=0,n=t.length;l<n;l++)if(e==t[l])return 1;return 0}var d=[],c=[];chrome.storage.sync.get(null,(t=>{d=t.blacklist,c=t.whitelist,console.log(d),console.log(c),l("black",d),l("white",c),document.getElementById("delete_from_blacklist").addEventListener("click",(()=>{n("black",d),l("black",d)})),document.getElementById("delete_from_whitelist").addEventListener("click",(()=>{n("white",c),l("white",c)})),document.getElementById("add_url_b").addEventListener("keyup",(t=>{if("Enter"===t.key){let t=document.getElementById("add_url_b").value;if(i(t,d))alert("此網站已在名單中！！");else{d.push(t);let n=d.length-1;0==n?l("black",d):e("blacklist_showed","b"+n,t)}}})),document.getElementById("add_url_w").addEventListener("keyup",(t=>{if("Enter"===t.key){let t=document.getElementById("add_url_w").value;if(i(t,c))alert("此網站已在名單中！！");else{c.push(t);let n=c.length-1;0==n?l("white",c):e("whitelist_showed","w"+n,t)}}})),document.getElementById("update_list").addEventListener("click",(()=>{let e=new Object;e.blacklist=d,e.whitelist=c,console.log(e),chrome.storage.sync.set(e),chrome.runtime.reload()}))}))})();